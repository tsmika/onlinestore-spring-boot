<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<style>
    .menu {
        background: #004f8b; /* Цвет фона */
        color: white; /* Цвет текста */
        padding: 2px; /* Поля вокруг текста */
        margin-top: 5px; /* Отступ сверху */
        margin-bottom: 5px; /* Отступ снизу */
        display: inline-block;
    }

</style>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-feet=no">

    <link rel="icon" href="../../resources/static/img/favicon.ico"
          th:href="@{/resources/static/img/favicon.ico}">
    <link rel="stylesheet" href="/resources/static/css/bootstrap.min.css"
          th:href="@{/resources/static/css/bootstrap.min.css}">
    <link rel="stylesheet" href="../../resources/static/css/bootstrap.css"
          th:href="@{/resources/static/css/bootstrap.css}">
    <link rel="stylesheet" href="../../resources/static/css/style.css"
          th:href="@{/resources/static/css/style.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

    <title>Customers</title>
</head>

<body>
<nav class="navbar navbar-expand-sm navbar-light bg-light p-1">
    <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                <li class="navbar-brand">
                    <img src="../../resources/static/img/onlinestore.svg"
                         th:src="@{/resources/static/img/onlinestore.svg}"
                         alt="" width="45" height="36" style="float:left; margin-right:10px;"/>
                </li>

                <li class="nav-link" style="float:left; margin-right:25px;">
                    <a type="button" class="btn btn-light btn-sm rounded-pill"
                       style="background-color: #e1f5ec; cursor: default;">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-person" style="font-size: 20px;"></i> <span th:text="${login}"
                                                                                            style="font-size: 20px;"></span>
                            </span>
                    </a>
                </li>

                <li class="nav-link">
                    <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                       th:href="@{/admins/products}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-house"></i> Home
                            </span>
                    </a>
                </li>

                <li class="nav-link">
                    <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                       th:href="@{'/admins/' + ${admin_id} + '/cart/products'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                               <i class="bi bi-cart4"></i> Cart
                            </span>
                    </a>
                </li>

                <li class="nav-link">
                    <a type="button" class="btn-sm btn-outline-secondary text-decoration-none rounded-pill"
                       th:href="@{'/admins/' + ${admin_id} + '/customers/' + ${admin_id} + '/update'}">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold">
                                <i class="bi bi-pencil"></i> Edit account
                            </span>
                    </a>
                </li>

                <li class="nav-link">
                    <a id="logout_link" type="button"
                       class="btn-sm btn-outline-secondary text-decoration-none rounded-pill">
                            <span class="d-none d-md-inline fs-5 fw-weight-bold"
                                  onclick="document.getElementById('logout-form').submit();">
                                <i class="bi bi-box-arrow-right"></i> Logout
                            </span>
                    </a>
                </li>
                <form id="logout-form" style="display:none" th:action="@{/logout}" method="POST"></form>

            </ul>

            <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
                       name="filter" size="40">
                <button class="btn btn-outline-dark" type="submit">Search</button>
            </form>

        </div>
    </div>
</nav>
<br>
<table class="table table-hover">
    <thead>
    <tr class="table-primary">
        <th scope="col">ID</th>
        <th scope="col">Login</th>
        <th scope="col">Role</th>
        <th scope="col"></th>
        <th scope="col"></th>
    </tr>
    </thead>

    <tbody>
    <th:block th:each="customer : ${customers}">
        <tr>
            <div class="row gy-1">

                <td>
                        <span class="d-none d-md-inline fs-5 fw-weight-bold">
                            <p class="card-text btn-sm" th:text="${customer.getCustomerId()}"></p>
                        </span>
                </td>

                <td>
                         <span class="d-none d-md-inline fs-5 fw-weight-bold">
                             <a class="card-text btn-sm btn-outline-secondary "
                                th:text="${customer.getLogin()}"
                                th:href="@{'/admins/' + ${admin_id} + '/customers/' + ${customer.getCustomerId()}}">
                         </a>
                        </span>
                </td>

                <td>
                        <span class="d-none d-md-inline fs-5 fw-weight-bold">
                            <p class="card-text btn-sm" th:text="${customer.getRole()}"></p>
                        </span>
                </td>

                <td>
                    <span class="d-none d-md-inline fs-5 fw-weight-bold">
                         <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                            th:href="@{'/admins/' + ${admin_id} + '/customers/' + ${customer.getCustomerId()} + '/update'}">
                             <i class="bi bi-pencil"></i> Edit
                         </a>
                        </span>
                </td>

                <td>
                    <span class="d-none d-md-inline fs-5 fw-weight-bold">
                         <a class="card-text btn-sm btn-outline-secondary rounded-pill"
                            th:href="@{'/admins/' + ${admin_id} + '/customers/' + ${customer.getCustomerId()} + '/delete'}">
                             <i class="bi bi-trash"></i> Remove
                         </a>
                    </span>
                </td>

            </div>
        </tr>
    </th:block>
    </tbody>
</table>

<script src="../../resources/static/js/bootstrap.bundle.min.js"
        th:src="@{/resources/static/js/bootstrap.bundle.min.js}">
</script>

</body>
</html>